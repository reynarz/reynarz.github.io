<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reynarz | P</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--<link rel="stylesheet" href="style.css">-->

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/carousel.css">
    <link rel="stylesheet" href="css/grid.css">

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.png">
</head>
<body>

<div class="slide-box">
    <button id="closeBtn" class="close-btn">Ã—</button>
  <iframe id="contentFrame" src="" style="width: 100%; height: 100%; border: none;"></iframe>
</div>
<style>
.slide-box {
    position: fixed;
    top: 0;
    right: -100%; /* Start fully off-screen to the right */
    width: calc(100% - 300px); /* Leave space for the 300px sidebar */
    height: 100vh;
    /*background-color: #0a0a0a;*/
    background-color: black;
    transition: right 0.5s ease;
    z-index: 9999;
}

.slide-box.show {
    right: 0; /* Slide into position */
}

.slide-box iframe {
  width: 100%;
  height: 100%;
  border: none;
  opacity: 1;
  transition: opacity 0.6s ease;
}

.slide-box iframe.fade-out {
  opacity: 0;
}

.close-btn {
  position: absolute;
  top: 10px;
  left: 30px;
  background: transparent;
  border: none;
  font-size: 60px;
  color: white;
  cursor: pointer;
  z-index: 10001;
  transform: rotate(0deg);
  transition: transform 0.5s ease-out, color 0.5s ease;
  padding: 20px;
}

.close-btn:hover {
  color: gray;
  /*transform: rotate(90deg);*/
}
</style>
</div>

    <div class="container">
        <!-- ðŸ”´ Sidebar -->
        <aside class="sidebar">
    <div class="profile-section">
        <img src="assets/images/profile.png" alt="Profile Picture" class="profile-pic">
        <h2 class="name">Reynardo PÃ©rez</h2>
    </div>

   <div class="sidebar-links">
  <a href="#" data-file="resume.html"><i class="fa fa-file-text-o"></i>RESUMe</a>
  <a href="#" data-file="coverletter.html"><i class="fa fa-envelope-o"></i>COVER LETTER</a>
  <hr class="sidebar-divider">

    <div class="social-buttons">
    <a href="https://www.linkedin.com/in/reynardoperez" target="_blank" class="social-btn"><i class="fa fa-linkedin"></i>LinkedIn</a>
    <a href="https://github.com/reynarzz" target="_blank" class="social-btn"><i class="fa fa-github"></i>GitHub</a>
  </div>
</div>

    <div class="intro">
       <p><strong>HELLO, WELCOME!</strong><br>
        <p class="intro-text">
  My name is Reynardo Perez (Reynarz) and Iâ€™m a game programmer! Here you can see some of my personal projects.
</p>
        </p>
    </div>

    <div class="social-icons">
       <a href="https://github.com/reynarzz" target="_blank" rel="noopener noreferrer"><i class="fa fa-github-square" aria-hidden="true"></i></a>
            <a href="https://www.linkedin.com/in/reynardoperez" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a>
            <a href="https://www.youtube.com/channel/UCYxGHl-M49FFuR5YyndAYgw" target="_blank" rel="noopener noreferrer"><i class="fa fa-youtube-square" aria-hidden="true"></i></a>
            <a href="https://twitter.com/_reynarz" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter-square" aria-hidden="true"></i></a>
            
    </div>
</aside>

        <!-- ðŸŸ¦ Main Content Area -->
        <main class="main-content">
            <!-- ðŸŸ¡ Top Nav -->
      
            <!-- Video section (placeholder) -->
            <section class="video-section">
                <div class="video-carousel">
                    <div class="carousel-track">
                        <video class="carousel-video active" src="assets/videos/engine.mp4" autoplay muted loop></video>
                        <video class="carousel-video" src="video2.mp4" muted loop></video>
                        <video class="carousel-video" src="video3.mp4" muted loop></video>
                    </div>
                    <button class="carousel-arrow left"> <i class="fa fa-chevron-left"  aria-hidden="true"></i></button>
                    <button class="carousel-arrow right"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
             </div>

              <header class="top-nav">
        <div class="home-button">
            <a href="#">REYNARZ</a>
        </div>
       <!-- <nav class="nav-buttons">
            <a href="#" >Resume</a>
            <a href="coverletter.html">Cover Letter</a>
            <a href="https://www.linkedin.com/in/reynardoperez" target="_blank" rel="noopener noreferrer">LinkedIn</a>
            <a href="https://github.com/reynarzz" target="_blank" rel="noopener noreferrer">GitHub</a>
        </nav>-->
    </header>
            </section>
            <section class="grid-section">
<div class="grid-container">
  <a href="#" class="grid-item">
    <img src="assets/images/01-01.png" alt="Image 1" />
    <div class="overlay">
      <h3 class="title">BROKEN PATH</h3>
      <p class="hashtags">#Unity3D #Game</p>
    </div>
  </a>
  <a href="#" class="grid-item">
    <img src="assets/images/engine5.png" alt="Image 2" />
    <div class="overlay">
      <h3 class="title">Shred Engine</h3>
      <p class="hashtags">#Engine #C++ #Jolt #Renderer</p>
    </div>
  </a>
  <a href="#" class="grid-item">
    <img src="assets/images/02-01.png" alt="Image 3" />
    <div class="overlay">
      <h3 class="title">Mino Tool</h3>
      <p class="hashtags">#OpenGL #CSharp #DearImGui</p>
    </div>
  </a>
  <a href="#" class="grid-item">
    <img src="assets/images/04-01.png" alt="Image 4" />
     <div class="overlay">
      <h3 class="title">Navecita</h3>
      <p class="hashtags">#C++ #OpenGL</p>
    </div>
  </a>
  <a href="#" class="grid-item">
    <img src="assets/images/sh3dpic.png" alt="Image 5" />
    <div class="overlay">
      <h3 class="title">Shder3D</h3>
      <p class="hashtags">#Kotlin #OpenGLES #Editor</p>
    </div>
  </a>
  <a href="#" class="grid-item">
    <img src="assets/images/03-01.png" alt="Image 6" />
      <div class="overlay">
      <h3 class="title">Minity</h3>
      <p class="hashtags">#Renderer-In-Engine #Unity3D #OpenGL</p>
    </div>
  </a>
  <a href="#" class="grid-item">
    <img src="assets/images/05-01.png" alt="Image 6" />
    <div class="overlay">
      <h3 class="title">U Talk</h3>
      <p class="hashtags">#Unity3D #Asset #Tool</p>
    </div>
  </a>
 <!-- <a href="#" class="grid-item">
    <img src="assets/images/03-01.png" alt="Image 6" />
  </a>-->
</div>
</section>
        </main>
        
    </div>

    <script>
const videos = document.querySelectorAll(".carousel-video");
let current = 0;
let interval = setInterval(nextVideo, 5000);

function nextVideo() {
    videos[current].classList.remove("active");
    current = (current + 1) % videos.length;
    videos[current].classList.add("active");
    videos[current].currentTime = 0;  // reset to start
    videos[current].play();
}

function prevVideo() {
    videos[current].classList.remove("active");
    current = (current - 1 + videos.length) % videos.length;
    videos[current].classList.add("active");
    videos[current].currentTime = 0;  // reset to start
    videos[current].play();
}

document.querySelector(".carousel-arrow.right").addEventListener("click", () => {
    clearInterval(interval);
    nextVideo();
    interval = setInterval(nextVideo, 5000);
});

document.querySelector(".carousel-arrow.left").addEventListener("click", () => {
    clearInterval(interval);
    prevVideo();
    interval = setInterval(nextVideo, 5000);
});

document.addEventListener('DOMContentLoaded', () => {
    const sidebar = document.querySelector('.sidebar');
    const mainContent = document.querySelector('.main-content');

    sidebar.addEventListener('wheel', (e) => {
        e.preventDefault();
        mainContent.scrollTop += e.deltaY;
    }, { passive: false });

    const nav = document.querySelector(".top-nav");
    const scrollTarget = document.querySelector(".main-content");

    scrollTarget.addEventListener("scroll", function () {
        const scrollThreshold = 100;
        if (scrollTarget.scrollTop > scrollThreshold) {
            nav.classList.add("scrolled");
        } else {
            nav.classList.remove("scrolled");
        }
    });

    const gridItems = document.querySelectorAll('.grid-item');
    const videos = document.querySelectorAll('.carousel-video');
    let activeIndex = -1;

    function setActiveVideo(index) {
        if (index === activeIndex) return; // do nothing if the same video

        videos.forEach((video, i) => {
            const isActive = i === index;
            video.classList.toggle('active', isActive);
            if (isActive) {
               /* video.currentTime = 0;
                video.play();*/
            } else {
              /*  video.pause();
                video.currentTime = 0;*/
            }
        });

        activeIndex = index;
    }

    gridItems.forEach((item, index) => {
        item.addEventListener('click', () => {
            setActiveVideo(index);
        });
    });
});


 const slideBox = document.querySelector('.slide-box');
  const iframe = slideBox.querySelector('iframe');
  const closeBtn = document.querySelector('.close-btn');

  let currentFile = "";

  document.querySelectorAll('.sidebar-links a[data-file]').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const file = link.getAttribute('data-file');
      iframe.style.opacity = 0;

      // If same file clicked and box is open, close
      if (slideBox.classList.contains('show') && currentFile === file) {
        slideBox.classList.remove('show');
        return;
      }

      // Set iframe transparent before doing anything
      iframe.style.opacity = 0;

      // If box is not visible
      if (!slideBox.classList.contains('show')) {
        slideBox.classList.add('show');
        currentFile = file;

        // Wait for slide transition (matches CSS duration)
        setTimeout(() => {
          iframe.src = file;
          // Delay fade-in just a bit to allow iframe load
          setTimeout(() => iframe.style.opacity = 1, 50);
        }, 500); // match CSS .slide-box transition duration
      } else {
        // If box is already visible, fade out old content, then fade in new
        iframe.style.opacity = 0;
        iframe.addEventListener('transitionend', function handler() {
          iframe.removeEventListener('transitionend', handler);
          iframe.src = file;
          currentFile = file;
          setTimeout(() => iframe.style.opacity = 1, 50);
        });
      }
    });
  });

  closeBtn.addEventListener('click', () => {
    slideBox.classList.remove('show');
        iframe.style.opacity = 0;

  });
/*const gridItems = document.querySelectorAll('.grid-item');

gridItems.forEach(item => {
  const img = item.querySelector('img');
  let animationId;
  let startTime;

  function animate(time) {
    if (!startTime) startTime = time;
    const elapsed = time - startTime;
    // sine oscillation scale between 1 and ~1.1
    const scale = 1 + 0.2 * ((Math.sin(elapsed / 400) + 1.0) * 0.5);

    img.style.transform = `scale(${scale})`;
    animationId = requestAnimationFrame(animate);
  }

  item.addEventListener('mouseenter', () => {
    startTime = null;
    animationId = requestAnimationFrame(animate);
  });

  item.addEventListener('mouseleave', () => {
    cancelAnimationFrame(animationId);
    img.style.transform = 'scale(1)'; // smooth return to normal
  });
});*/
</script>
</body>
</html>
