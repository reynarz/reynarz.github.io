<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Reynarz | Portfolio</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/carousel.css">
    <link rel="stylesheet" href="css/grid.css">

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dosis&family=Raleway&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+HK:wght@200..900&family=Sen:wght@400..800&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.png">

</head>
<body>

<div class="slide-box">
    <button id="closeBtn" class="close-btn">Ã—</button>
  <iframe id="contentFrame" src="" style="width: 100%; height: 100%; border: none;"></iframe>
</div>
<style>

.slide-box {
    position: fixed;
    top: 0;
    right: -100%; /* Start fully off-screen to the right */
    width: calc(100% - 300px); /* Leave space for the 300px sidebar */
    height: 100vh;
    /*background-color: #0a0a0a;*/
    background-color: black;
    transition: right 0.5s ease;
    z-index: 9999;
}
@media (max-width: 1024px) {
  .slide-box {
    width: 100%; /* Take full width on mobile */
  }
}
.slide-box.show {
    right: 0; /* Slide into position */
}

.slide-box iframe {
  width: 100%;
  height: 100%;
  border: none;
  opacity: 1;
  transition: opacity 0.6s ease;
}

.slide-box iframe.fade-out {
  opacity: 0;
}

.close-btn {
  position: absolute;
  top: 10px;
  left: 30px;
  background: transparent;
  border: none;
  font-size: 60px;
  color: white;
  cursor: pointer;
  z-index: 10001;
  transform: rotate(0deg) scale(1);
  transition: transform 0.24s ease-out, color 0.24s ease;
  padding: 20px;
}

.close-btn:hover {
  color: #FFFFFF90;
  transform: scale(0.9);
}
</style>

    <div class="container">

  <div class="mobile-header">
<div class="mobile-header-top">
    <div class="home-button">
      <a href="#">REYNARZ</a>
    </div>
    <div class="hamburger-container">
      <button class="hamburger" onclick="toggleMobileMenu()">â˜°</button>
    </div>
  </div>
  <div id="mobile-menu" class="mobile-menu">
    <a href="#" data-file="resume-page.html"><i class="fas fa-file-alt"></i>RESUMe</a>
    <a href="#" data-file="coverletter.html"><i class="fa-solid fa-envelope"></i>COVER LETTER</a>
  <hr class="sidebar-divider">
    <a href="https://www.linkedin.com/in/reynardoperez" target="_blank"><i class="fa-brands fa-linkedin-in"></i>LinkedIn</a>
    <a href="https://github.com/reynarzz" target="_blank"><i class="fa-solid fa-code-branch"></i>GitHub</a>
    <a href="https://www.youtube.com/channel/UCYxGHl-M49FFuR5YyndAYgw" target="_blank"><i class="fa-brands fa-youtube"></i>Youtube</a>

  </div>
</div>


        <!-- ðŸ”´ Sidebar -->
        <aside class="sidebar">
    <div class="profile-section">
        <img src="assets/images/profile.png" alt="Profile Picture" class="profile-pic">
        <h2 class="name">Reynardo PÃ©rez</h2>
    </div>

   <div class="sidebar-links">
  <a href="#" data-file="resume-page.html"><i class="fas fa-file-alt"></i>RESUMe</a>
  <a href="#" data-file="coverletter.html"><i class="fa-solid fa-envelope"></i>COVER LETTER</a>
  <hr class="sidebar-divider">

    <div class="social-buttons">
    <a href="https://www.linkedin.com/in/reynardoperez" target="_blank" class="social-btn"><i class="fa-brands fa-linkedin-in"></i>LinkedIn</a>
    <a href="https://github.com/reynarzz" target="_blank" class="social-btn"><i class="fa-solid fa-code-branch"></i>GitHub</a>
    <a href="https://www.youtube.com/channel/UCYxGHl-M49FFuR5YyndAYgw" target="_blank" class="social-btn"><i class="fa-brands fa-youtube"></i>Youtube</a>
  </div>
</div>

    <div class="intro">
  <strong>HELLO, WELCOME!</strong>
  <p class="intro-text">
    My name is Reynardo Perez (Reynarz) and Iâ€™m a game programmer! Here you can see some of my personal projects.
  </p>
</div>

    <div class="social-icons">
       <!--<a href="https://github.com/reynarzz" target="_blank" rel="noopener noreferrer"><i class="fa fa-github-square" aria-hidden="true"></i></a>
            <a href="https://www.linkedin.com/in/reynardoperez" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a>
            <a href="https://www.youtube.com/channel/UCYxGHl-M49FFuR5YyndAYgw" target="_blank" rel="noopener noreferrer"><i class="fa fa-youtube-square" aria-hidden="true"></i></a>
            <a href="https://twitter.com/_reynarz" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter-square" aria-hidden="true"></i></a>
           --> 
    </div>
</aside>

        <!-- ðŸŸ¦ Main Content Area -->
        <main class="main-content">
            <!-- ðŸŸ¡ Top Nav -->
      
            <!-- Video section (placeholder) -->
            <section class="video-section">
                <div class="video-carousel">
                    <div class="carousel-track">

                      <div class="video-wrapper" data-file="broken-path-explore.html" data-button="View More">
                      <video playsinline webkit-playsinline muted class="carousel-video active" src="assets/videos/brokenPath.mp4" autoplay muted loop></video>
                      <div class="video-overlay"></div>
                      <div class="video-gradient-overlay"></div>
                      <div class="video-text title">Broken Path</div>
                      <div class="video-text subtitle">My Pixel Art video game being made with Unity3D.</div>
                      </div>

                              <div class="video-wrapper" data-file="shred-engine-explore.html" data-button="View More">
                      <video playsinline webkit-playsinline muted class="carousel-video" src="assets/videos/engineView.mp4" autoplay muted loop></video>
                      <div class="video-overlay"></div>
                      <div class="video-gradient-overlay"></div>
                      <div class="video-text title">SHRED ENGINE</div>
                      <div class="video-text subtitle">My custom 3D/2D game engine made with C++, Jolt physics, Box2D, and own renderer. 
                        </div>
                    </div>
                        
                     
                        
                    <div class="video-wrapper">
                      <video playsinline webkit-playsinline muted class="carousel-video" src="assets/videos/minoTool.mp4" autoplay muted loop></video>
                      <div class="video-overlay"></div>
                      
                       <div class="video-gradient-overlay"></div>
                      <div class="video-text title">Mino tool</div>
                      <div class="video-text subtitle">My C# Complete suit of libraries to create powerful graphics tools.</div>
                    </div>
                        

                           <div class="video-wrapper" data-file="mino-explore.html" data-button="View More">
                      <video playsinline webkit-playsinline muted class="carousel-video" src="assets/videos/3dplatformer.mp4" autoplay muted loop></video>
                      <div class="video-text title">Mino's Adventure</div>
                      <div class="video-text subtitle">3D Platformer (PC-Mobile) made with Unity3D 
                        </div>
                    </div>
                        
                      

                    <div class="video-wrapper">
                      <video playsinline webkit-playsinline muted class="carousel-video" src="assets/videos/navecita.mp4" autoplay muted loop></video>
                      <div class="video-overlay"></div>
                      
                       <div class="video-gradient-overlay"></div>
                      <div class="video-text title">Navecita</div>
                      <div class="video-text subtitle">Game made from scratch, C++ + OpenGL</div>
                    </div>

                       <div class="video-wrapper">
                      <video playsinline webkit-playsinline muted class="carousel-video" src="assets/videos/shder3d.mp4" autoplay muted loop></video>
                      <div class="video-overlay"></div>
                      <div class="video-gradient-overlay"></div>
                      <div class="video-text title">Shder3D</div>
                      <div class="video-text subtitle">3D GLSL shader editor for Android, made with Kotlin and OpenGL ES 2.0. 
                        </div>
                    </div>

                   <button class="carousel-arrow left">
  <!-- Left Arrow -->
  <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="12" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="15 18 9 12 15 6" />
  </svg>
</button>

<button class="carousel-arrow right">
  <!-- Right Arrow -->
  <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="9 6 15 12 9 18" />
  </svg>
</button>
             </div>

             <!-- <header class="top-nav">
        <div class="home-button">
            <a href="#">REYNARZ</a>
        </div>-->
    </header>
   <footer class="video-footer-text">
    <div class="video-title"></div>
    <div class="video-subtitle"></div>
    <a href="#" class="footer-button" target="_blank" rel="noopener noreferrer" data-file="broken-path-explore.html">
    View more
  </a>
    </footer>
            </section>
            <section class="grid-section">
<div class="grid-container">
  <a href="#" class="grid-item" data-file="broken-path-explore.html">
    <img src="assets/images/01-01.jpg" alt="Image 1" loading="eager"/>
    <div class="overlay">
      <h3 class="title">BROKEN PATH</h3>
      <p class="hashtags">#Unity3D #Game</p>
    </div>
  </a>
    
    
     <a href="#" class="grid-item" data-file="shred-engine-explore.html">
    <img src="assets/images/engine5.png" alt="Image 2" loading="eager"/>
    <div class="overlay">
      <h3 class="title">Shred Engine</h3>
      <p class="hashtags">#Engine #C++ #Jolt #Renderer</p>
    </div>
  </a>
    
    
 
     <a href="#" class="grid-item">
    <img src="assets/images/02-01.jpg" alt="Image 3" loading="eager"/>
    <div class="overlay">
      <h3 class="title">Mino Tool</h3>
      <p class="hashtags">#OpenGL #CSharp #DearImGui</p>
    </div>
  </a>
    
       <a href="#" class="grid-item" data-file="mino-explore.html">
    <img src="assets/images/minogrid3.png"  alt="Image 2" loading="eager"/>
    <div class="overlay">
      <h3 class="title">Mino's Adventure</h3>
      <p class="hashtags">#Unity3D #Platformer #Solo-project</p>
    </div>
  </a>
    
 
    <a href="#" class="grid-item">
    <img src="assets/images/04-01.png" alt="Image 4" loading="eager"/>
     <div class="overlay">
      <h3 class="title">Navecita</h3>
      <p class="hashtags">#C++ #OpenGL</p>
    </div>
  </a>

 
  <a href="#" class="grid-item">
    <img src="assets/images/sh3dpic.jpg" alt="Image 5" loading="eager"/>
    <div class="overlay">
      <h3 class="title">Shder3D</h3>
      <p class="hashtags">#Kotlin #OpenGLES #Editor</p>
    </div>
  </a>
  <a href="#" class="grid-item">
    <img src="assets/images/03-01.jpg" alt="Image 6" loading="eager"/>
      <div class="overlay">
      <h3 class="title">Minity</h3>
      <p class="hashtags">#Unity3D #Native plugin #Renderer</p>
    </div>
  </a>
  <a href="#" class="grid-item">
    <img src="assets/images/05-01.png" alt="Image 7" loading="eager"/>
    <div class="overlay">
      <h3 class="title">U Talk</h3>
      <p class="hashtags">#Unity3D #Asset #Tool</p>
    </div>
  </a>
 <!-- <a href="#" class="grid-item">
    <img src="assets/images/03-01.png" alt="Image 6" />
  </a>-->
</div>
</section>
        </main>
        
    </div>

<script>
(() => {
  // Video carousel setup
  const videos = Array.from(document.querySelectorAll('.carousel-video'));
  let current = 0;
  let interval;

  // Footer elements
  const footer = document.querySelector('.video-footer-text');
  const titleEl = footer.querySelector('.video-title');
  const subtitleEl = footer.querySelector('.video-subtitle');
  const buttonEl = footer.querySelector('.footer-button');

  // Fade timing constants
  const FADE_OUT_MS = 500;
  const FADE_TITLE_DELAY = 1000;
  const FADE_SUB_DELAY = 1600;
  const FADE_BTN_DELAY = 2300;
  let fadeTimeouts = [];

  function clearFadeTimeouts() {
    fadeTimeouts.forEach(clearTimeout);
    fadeTimeouts = [];
  }

  function fadeOutTexts(callback) {
    [titleEl, subtitleEl, buttonEl].forEach(el => el.classList.remove('visible'));
    buttonEl.style.pointerEvents = 'none';
    fadeTimeouts.push(setTimeout(callback, FADE_OUT_MS));
  }

  function fadeInTexts({ title, subtitle, wrapper, file }) {
    titleEl.textContent = title;
    subtitleEl.textContent = subtitle;

    // Staggered fade-in
    fadeTimeouts.push(setTimeout(() => titleEl.classList.add('visible'), FADE_TITLE_DELAY));
    fadeTimeouts.push(setTimeout(() => subtitleEl.classList.add('visible'), FADE_SUB_DELAY));
    fadeTimeouts.push(
      setTimeout(() => {
        buttonEl.classList.add('visible');
        const btnText = wrapper.dataset.button;
        const hasButton = btnText && btnText.trim().toLowerCase() !== 'none';

        if (hasButton) {
          buttonEl.textContent = btnText;
          buttonEl.dataset.file = file;
          buttonEl.style.cssText = 'pointer-events:auto;background:white;color:black;border:1px solid #ccc';
        } else {
          buttonEl.textContent = 'Coming soon';
          buttonEl.removeAttribute('data-file');
          buttonEl.style.cssText = 'pointer-events:none;background:transparent;color:white;border:1px solid white';
        }
      },
      FADE_BTN_DELAY)
    );
  }

  function updateFooter(video) {
    clearFadeTimeouts();
    const wrapper = video.closest('.video-wrapper');
    const title = wrapper.querySelector('.video-text.title').textContent;
    const subtitle = wrapper.querySelector('.video-text.subtitle').textContent;
    const file = wrapper.dataset.file;

    fadeOutTexts(() => fadeInTexts({ title, subtitle, wrapper, file }));
  }

  function showVideo(index) {
    videos[current].classList.remove('active');
    current = (index + videos.length) % videos.length;
    const vid = videos[current];
    vid.classList.add('active');
    vid.currentTime = 0;
    vid.play();
    updateFooter(vid);
  }

  document.addEventListener('DOMContentLoaded', () => {
    // Start automatic carousel
    interval = setInterval(() => showVideo(current + 1), 12000);

    // Initialize footer for the active video
    const initial = document.querySelector('.carousel-video.active');
    if (initial) updateFooter(initial);

    // Arrow controls
    document.querySelectorAll('.carousel-arrow').forEach(el => {
      el.addEventListener('click', () => {
        clearInterval(interval);
        showVideo(el.classList.contains('right') ? current + 1 : current - 1);
        interval = setInterval(() => showVideo(current + 1), 12000);
      });
    });

    // Sidebar scroll locking
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('.main-content');
    const nav = document.querySelector('.top-nav');

    if (sidebar && main) {
      sidebar.addEventListener(
        'wheel',
        e => {
          e.preventDefault();
          main.scrollTop += e.deltaY;
        },
        { passive: false }
      );
    }

    // Navigation bar style on scroll
    if (main && nav) {
      main.addEventListener('scroll', () => {
        nav.classList.toggle('scrolled', main.scrollTop > 100);
      });
    }

    // Grid item clicks: video or slide-box page
    document.querySelectorAll('.grid-item').forEach((item, i) => {
      item.addEventListener('click', e => {
        e.preventDefault();
        const file = item.dataset.file;
        if (file) {
          handleLink(file);
        } else {
          showVideo(i);
        }
      });
    });

    // Clamp scroll for containers
    [
      main,
      document.querySelector('.slide-box'),
      document.querySelector('.grid-container'),
    ]
      .filter(Boolean)
      .forEach(div =>
        div.addEventListener('scroll', () => {
          const max = div.scrollHeight - div.clientHeight - 1;
          div.scrollTop = Math.max(1, Math.min(div.scrollTop, max));
        })
      );

    // Slide-box setup
    const slideBox = document.querySelector('.slide-box');
    const iframe = slideBox && slideBox.querySelector('iframe');
    const closeBtn = document.querySelector('.close-btn');
    let requestId = 0;
    let busy = false;
    let currentFile = '';

    function loadFile(file, id) {
      iframe.style.opacity = 0;
      if (!slideBox.classList.contains('show')) slideBox.classList.add('show');

      setTimeout(() => {
        if (requestId !== id) return;
        iframe.src = file;
        iframe.style.opacity = 1;
        busy = false;
      }, slideBox.classList.contains('show') ? 50 : 500);
    }

    function handleLink(file) {
      if (busy) return;
      busy = true;
      const id = ++requestId;

      if (slideBox.classList.contains('show') && currentFile === file) {
        slideBox.classList.remove('show');
        busy = false;
        currentFile = '';
        return;
      }

      currentFile = file;
      loadFile(file, id);
    }

    closeBtn &&
      closeBtn.addEventListener('click', () => {
        requestId++;
        iframe.style.opacity = 0;
        slideBox.classList.remove('show');
        busy = false;
      });

    document
      .querySelectorAll(
        '.sidebar-links a[data-file], .mobile-menu a[data-file], .footer-button[data-file]'
      )
      .forEach(a => a.addEventListener('click', e => {
        e.preventDefault();
        handleLink(a.dataset.file);
      }));
  });

  // Preload assets utilities
  async function preloadAsset(href, asType) {
    if (document.querySelector(`link[rel=\"preload\"][href=\"${href}\"]`)) return;
    const link = document.createElement('link');
    link.rel = 'preload';
    link.href = href;
    link.as = asType;
    document.head.appendChild(link);
  }

  async function preloadIframeResources(url) {
    try {
      const res = await fetch(url);
      const html = await res.text();
      const doc = new DOMParser().parseFromString(html, 'text/html');

      doc.querySelectorAll('link[rel=\"stylesheet\"]').forEach(l => l.href && preloadAsset(l.href, 'style'));
      doc.querySelectorAll('script[src]').forEach(s => s.src && preloadAsset(s.src, 'script'));
      doc.querySelectorAll('img[src]').forEach(i => i.src && preloadAsset(i.src, 'image'));
    } catch {}
  }

  async function preloadAllAndShow() {
    const pages = ['resume-page.html', 'coverletter.html', 'broken-path-explore.html', 'shred-engine-explore.html'];
    for (const page of pages) await preloadIframeResources(page);
    const iframeEl = document.getElementById('iframe-container');
    iframeEl.src = pages[0];
    iframeEl.style.display = 'block';
  }

  document.getElementById('loadButton')?.addEventListener('click', preloadAllAndShow);
})();
</script>

<iframe src="resume-page.html" style="display:none;" id="preload1"></iframe>
<iframe src="coverletter.html" style="display:none;" id="preload2"></iframe>
</body>
</html>
